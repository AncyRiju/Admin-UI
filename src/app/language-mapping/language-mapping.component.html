<md-card>
  <div class="row" *ngIf="tableMode">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      <h4>
        <strong>Language Mapping</strong>
      </h4>
    </div>
    <!-- pre-populated table showing the number of providers available -->
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 table-responsive">

      <table [md2Data]="LanguageMappedList" #md2="md2DataTable" class="table" [rowsPerPage]="3">
        <thead>
          <tr>
            <th>User Name</th>
            <th>Language Name</th>
            <th>Read</th>
            <th>Write </th>
            <th>Speak</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngIf="LanguageMappedList.length == 0">
            <td colspan="6" align="center">No Record Found</td>
          </tr>
          <tr style="cursor: pointer" *ngFor="let lang of md2.data;let i=index ">
            <td>{{lang.userLangID}}</td>
            <td>{{lang.userID}}</td>
            <td>{{lang.canRead}}</td>
            <td>{{lang.canWrite}}</td>
            <td>{{lang.canSpeak}}</td>
            <td>
              <i mdTooltip="edit" class="fa fa-pencil fa-lg cursorPointer" *ngIf="!lang.deleted" style="font-size: 18px" (click)="editRow(lang)"></i>
            </td>
            <td>
              <button md-raised-button color="primary" *ngIf="lang.uSRMDeleted" class=" m-r-10" (click)="activate(lang.userLangID)">Activate</button>
              <button md-raised-button color="primary" *ngIf="!lang.uSRMDeleted" class=" m-r-10" (click)="deactivate(lang.userLangID)">Deactivate</button>

            </td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <td colspan="4">
              <md2-pagination></md2-pagination>
            </td>
            <td colspan="3" class="p-r-0">
              <button md-raised-button color="primary" class="pull-right" (click)="showForm()">Create New Mapping</button>
            </td>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>

  <div class="row" *ngIf="formMode">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      <h4>
        <strong>Language Mapping</strong>
      </h4>

    </div>
    <div class="container-fluid m-t-10" id="Language">
      <md-card>
        <div class="row">
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <form id="languagesForm" #form="ngForm" autocomplete=" off ">
              <div class="col-xs-12 col-sm-6 col-md-4 col-lg-4 ">
                <md-select [(ngModel)]="userName " name="username " placeholder="Select User Name " [style.width]="
              '100%' " required>
                  <md-option *ngFor="let item of userNamesList " [value]="item ">{{item.firstName}}</md-option>
                </md-select>
              </div>

              <div class="col-xs-12 col-sm-6 col-md-4 col-lg-4 ">

                <md-select [(ngModel)]="language" name="language" placeholder="Languages" [style.width]="'100%'" (change)="Language(language)"
                  required>
                  <md-option *ngFor="let item of allLanguagesList " [value]="item ">{{item.languageName}}</md-option>
                </md-select>
              </div>
              <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 m-t-60 ">
                <!-- <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 ">
                <label>{{lang?.languageName}}</label>
              </div> -->
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 m-l--30 " *ngIf="showCheckboxes ">

                  <div class="col-xs-12 col-sm-12 col-md-4 col-lg-2 ">
                    <md-checkbox color="primary" (change)="setRead($event) ">READ</md-checkbox>
                  </div>
                  <div class="col-xs-12 col-sm-12 col-md-4 col-lg-2 ">
                    <md-select [(ngModel)]="readWeightage " name="readweightage " placeholder="Select Weightage" [style.width]=" '100%' " required>
                      <md-option *ngFor="let item of Weightage " [value]="item ">{{item.Name}}</md-option>
                    </md-select>
                  </div>
                  <div class="col-xs-12 col-sm-12 col-md-4 col-lg-2 ">
                    <md-checkbox color="primary" (change)="setWrite($event) " #writeCheckbox>WRITE</md-checkbox>
                  </div>
                  <div class="col-xs-12 col-sm-12 col-md-4 col-lg-2 ">
                    <md-select [(ngModel)]="writeWeightage " name="writeweightage " placeholder="Select Weightage" [style.width]=" '100%' " required>
                      <md-option *ngFor="let item of Weightage " [value]="item ">{{item.Name}}</md-option>
                    </md-select>
                  </div>
                  <div class="col-xs-12 col-sm-12 col-md-4 col-lg-2 ">
                    <md-checkbox color="primary" (change)="setSpeak($event) " #speakCheckbox>SPEAK</md-checkbox>
                  </div>
                  <div class="col-xs-12 col-sm-12 col-md-4 col-lg-2 ">
                    <md-select [(ngModel)]="speakWeightage " name="speakweightage " placeholder="Select Weightage" [style.width]=" '100%' " required>
                      <md-option *ngFor="let item of Weightage " [value]="item ">{{item.Name}}</md-option>
                    </md-select>
                  </div>

                </div>
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 m-t-15 ">
                  <button name="langBtn " color="primary" md-raised-button class="pull-right " *ngIf="showCheckboxes " [disabled]="form.invalid "
                    (click)="addLanguage(form.value); ">Add</button>
                  <button name="backBtn " color="primary" md-raised-button class="pull-left " (click)="showTable() ">Back</button>
                </div>
              </div>


              <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 " *ngIf="multiLanguages.length>0">
                <table [md2Data]="multiLanguages" #md2="md2DataTable" class="table" [rowsPerPage]="3">
                  <thead>
                    <tr>
                      <th>Sr. No.</th>
                      <th>User Name</th>
                      <th>Language Name</th>
                      <th>Read Weightage</th>
                      <th>Write Weightage</th>
                      <th>Speak Weightage</th>
                      <th>Delete</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr style="cursor: pointer" *ngFor="let lang of md2.data; let i = index ">
                      <td>{{(md2.activePage-1)*5+i+1}}</td>
                      <td>{{lang.userName}}</td>
                      <td>{{lang.languageName}}</td>
                      <td>{{lang.readWeightage}}</td>
                      <td>{{lang.writeWeightage}}</td>
                      <td>{{lang.speakWeightage}}</td>
                      <td>
                        <i mdTooltip="delete" class="material-icons" style="font-size: 18px" (click)="deleteRow(i)">delete</i>
                      </td>
                    </tr>

                  </tbody>
                  <tfoot>
                    <tr>
                      <td colspan="6">
                        <md2-pagination></md2-pagination>
                      </td>
                    </tr>
                  </tfoot>
                </table>
                <div class="col-xs-12 col-sm-6 col-md-12 col-lg-12">
                  <button name="langBtn" md-raised-button class="pull-right" (click)="save()">Save</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </md-card>
    </div>

  </div>
  <div class="row" *ngIf="editMode">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      <h4>
        <strong>Editing Language Mapping</strong>
      </h4>

    </div>
    <div class="container-fluid m-t-10" id="Language">
      <md-card>
        <div class="row">
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <form id="editlanguagesForm" #eform="ngForm" autocomplete=" off ">
              <div class="col-xs-12 col-sm-6 col-md-4 col-lg-4 ">
                <md-select [(ngModel)]="userName " name="username " placeholder="Select User Name " [style.width]="
              '100%' " required>
                  <md-option *ngFor="let item of userNamesList " [value]="item ">{{item.languageName}}</md-option>
                </md-select>
              </div>
              <div class="col-xs-12 col-sm-6 col-md-4 col-lg-4 ">
                <md-select [(ngModel)]="language " name="language " placeholder="Select Language " [style.width]="
              '100%' " (change)="setLanguage(language) " required>
                  <md-option *ngFor="let item of allLanguages " [value]="item ">{{item.languageName}}</md-option>
                </md-select>
              </div>
              <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 m-t-60 ">
                <!-- <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 ">
                  <label>{{lang?.languageName}}</label>
                </div> -->
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 m-l--30 " *ngIf="showCheckboxes ">

                  <div class="col-xs-12 col-sm-12 col-md-4 col-lg-2 ">
                    <md-checkbox color="primary " (change)="setRead($event) " #readCheckbox>READ</md-checkbox>
                  </div>
                  <div class="col-xs-12 col-sm-12 col-md-4 col-lg-2 ">
                    <md-select [(ngModel)]="readWeightage " name="readweightage " placeholder="Select Weightage
              " [style.width]=" '100%' " required>
                      <md-option *ngFor="let item of Weightage " [value]="item ">{{item.Name}}</md-option>
                    </md-select>
                  </div>
                  <div class="col-xs-12 col-sm-12 col-md-4 col-lg-2 ">
                    <md-checkbox color="primary " (change)="setWrite($event) " #writeCheckbox>WRITE</md-checkbox>
                  </div>
                  <div class="col-xs-12 col-sm-12 col-md-4 col-lg-2 ">
                    <md-select [(ngModel)]="writeWeightage " name="writeweightage " placeholder="Select Weightage
              " [style.width]=" '100%' " required>
                      <md-option *ngFor="let item of Weightage " [value]="item ">{{item.Name}}</md-option>
                    </md-select>
                  </div>
                  <div class="col-xs-12 col-sm-12 col-md-4 col-lg-2 ">
                    <md-checkbox color="primary " (change)="setSpeak($event) " #speakCheckbox>SPEAK</md-checkbox>
                  </div>
                  <div class="col-xs-12 col-sm-12 col-md-4 col-lg-2 ">
                    <md-select [(ngModel)]="speakWeightage " name="speakweightage " placeholder="Select Weightage
              " [style.width]=" '100%' " required>
                      <md-option *ngFor="let item of Weightage " [value]="item ">{{item.Name}}</md-option>
                    </md-select>
                  </div>

                </div>
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 m-t-15 " *ngIf="showCheckboxes ">
                  <button name="langBtn " md-raised-button class="pull-right " [disabled]="form.invalid " (click)="update(eform.value) ">Add</button>
                  <button name="backBtn " md-raised-button class="pull-left " (click)="showTable() ">Back</button>
                </div>
              </div>


              <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 " *ngIf="bufferArray.length>0">
                <table class="table table-striped table-hover" [md2Data]="bufferArray" #md2="md2DataTable" [rowsPerPage]="5">
                  <thead>
                    <tr>
                      <th>Sr. No.</th>
                      <th>User Name</th>
                      <th>Language Name</th>
                      <th>Read Weightage</th>
                      <th>Write Weightage</th>
                      <th>Speak Weightage</th>
                      <th>Delete</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr style="cursor: pointer" *ngFor="let lang of md2.data; let i = index ">
                      <td>{{(md2.activePage-1)*5+i+1}}</td>
                      <td>{{lang.userName}}</td>
                      <td>{{lang.languageName}}</td>
                      <td>{{lang.readWeightage}}</td>
                      <td>{{lang.writeWeightage}}</td>
                      <td>{{lang.speakWeightage}}</td>
                      <td>
                        <i mdTooltip="delete" class="material-icons" style="font-size: 18px" (click)="deleteRow(i)">delete</i>
                      </td>
                    </tr>

                  </tbody>
                  <tfoot>
                    <tr>
                      <td colspan="6">
                        <md2-pagination></md2-pagination>
                      </td>
                    </tr>
                  </tfoot>
                </table>
                <div class="col-xs-12 col-sm-6 col-md-12 col-lg-12">
                  <button name="langBtn" md-raised-button class="pull-right" (click)="MOVE2NEXT(3)">Next</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </md-card>
    </div>

  </div>
</md-card>